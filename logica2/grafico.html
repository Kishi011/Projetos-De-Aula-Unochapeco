<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
    </head>
    <body>
        <canvas width="700" height="500"></canvas>
    </body>

    <script>

        //escrevendo um texto no canvas
        function desenhaTexto(x, y, texto, cor){
            pen.font = '15px Georgia';
            pen.fillStyle = cor;
            pen.fillText(texto, x, y);
        }

        function desenhaRetangulo(x, y, largura, altura, cor){
            pen.fillStyle = cor;
            pen.fillRect(x, y, largura, altura);
            pen.strokeRect(x, y, largura, altura);
        }

        function desenhaBarra(x, y, serie, cores, texto){
            desenhaTexto(x, y-10, texto, 'black');
            var somaAltura = 0;
            for(var i = 0; i < serie.length; i++){
                var altura = serie[i];
                desenhaRetangulo(x, y + somaAltura, 50, altura, cores[i]);
                somaAltura += altura;
            }
        }

        var canvas = document.querySelector('canvas');
        var pen = canvas.getContext('2d');
        var serie2015 = [50, 25, 20, 5];
        var serie2016 = [65, 20, 13, 2];
        var cores = ['blue', 'green', 'yellow', 'red'];

        desenhaBarra(50, 50, serie2015, cores, '2015');
        desenhaBarra(150, 50, serie2015, cores, '2016');
        
    </script>
</html>