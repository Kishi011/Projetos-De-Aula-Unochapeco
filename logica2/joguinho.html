<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
    </head>
    <body>
        <canvas width="600" height="400"></canvas>
    </body>
    <script>
        function limpaTela(){
            pen.clearRect(0,0, canvas.width, canvas.height);
        }

        function sorteiaCoordenadas(max){
            return Math.floor(Math.random()*max); // Math.floor arredonda o número para baixo
        }

        function desenhaCirculo(x, y, raio, cor){
            pen.fillStyle = cor;
            pen.beginPath();
            pen.arc(x, y, raio, 0, 2*Math.PI);
            pen.fill();
        }

        function desenhaAlvo(x, y){    
            limpaTela();

            desenhaCirculo(x, y, raio+20, 'red');
            desenhaCirculo(x, y, raio+10, 'white');
            desenhaCirculo(x, y, raio, 'red');
        }

        function atualizaTela(){
            xAleatorio = sorteiaCoordenadas(canvas.width);
            yAleatorio = sorteiaCoordenadas(canvas.height);
            desenhaAlvo(xAleatorio, yAleatorio);
        }

        function dispara(evento){
            var xm = evento.pageX - canvas.offsetLeft;
            var ym = evento.pageY - canvas.offsetTop;

            if((xm <= xAleatorio+raio)
            && (ym <= yAleatorio+raio)
            && (xm >= xAleatorio-raio)
            && (ym >= yAleatorio-raio)){
                
                alert('Você acertou 100 pontos');
            }

            if((xm <= xAleatorio+(raio+10))
            && (xm >= xAleatorio-(raio+10))
            && (ym <= yAleatorio+(raio+10))
            && (ym >= yAleatorio-(raio+10))){

                alert('Você acertou 50 pontos');
            }

            if((xm <= xAleatorio+(raio+20))
            && (xm >= xAleatorio-(raio+20))
            && (ym <= yAleatorio+(raio+20))
            && (ym >= yAleatorio-(raio+20))){

                alert('Você acertou 20 pontos');
            }
        }

        var canvas = document.querySelector('canvas');
        var pen = canvas.getContext('2d');

        var raio = 10;
        var xAleatorio = 0;
        var yAleatorio = 0;

        canvas.onclick = dispara;

        setInterval(atualizaTela, 2000);
        

    </script>
</html>